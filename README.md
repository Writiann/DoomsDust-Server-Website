# 末日余烬服务器

## ip: play.simpfun.cn  端口：35985

<div align="center">

  <img src="logo.png" alt="LogoWide" width="600"/>
  <p>末日余烬更新公告都将发布在这里,请多多关注哦</p>
  <p>如果觉得服务器做的不错,可以赞助此项目,这对我帮助很大</p>
  <img src="wechat.jpg" alt="收款码" width="300"/>

  <p>请务必通过付款备注的方式留下你的游戏内ID,以便获取独家的赞助收藏品~</p>
</div>

## ❗ 重要
每次服务器更新时,如果推送**服务器资源包已经更新**提示,请务必按照步骤0进行操作
- 0.怎么重新安装资源包？
打开**设置-存储-**下拉到最后一栏**缓存**，删除名字叫**DoomsdayDust RP**的资源包,如果你使用了tacz,getout或者抹茶现代战争作为全局资源,也请在设置中关闭这些资源包,现有服务器内容为了兼容性进行了许多调整,如果出现贴图缺失,ui错位等问题请务必再三检查资源包情况,此后再向服主反馈bug
- 1.怎么进入副本？
(聊天栏输入hub进入选项，手持钻石右键，进入二级菜单，然后选择你要去的地图，然后选择随机战备进图地图[新手没有装备就用随机战备])
- 2.我卡在混凝土和木桶的房子里了
(1.你使用了自定义战备，聊天栏输入ok进入地图，然后被打死出来或者进图后重进)
(2.出生点就在个人领地，输入hub进入菜单选项)
- 3.怎么开枪，怎么换弹？
(蹲下是瞄准，长按屏幕或者右键装弹，装弹后枪械才能正常运行，单击/左键换弹，长按开枪，建议新手去靶场实验)
- 4.怎么摸金，怎么撤离？
(进图后看到物资箱后右键即可摸金，等待转圈结束物品自动进入背包，撤离有时间限制，请多多注意聊天栏提示)
- 服务器目前不会对最新版mc1.21.120提供支持，如果你自动更新到了最新版，请注意下载的资源包和存档是否存在缺失，以及是否出现掉帧问题。
服务器存档将会在下一个稳定的mc版本更新之后继续同步至最新的游戏版本和脚本引擎模块支持


## 🤝 贡献
对本项目有过贡献的成员都将会出现在这里,现在空空荡荡...


## ✨ 更新日志

### v1.0.5
§l服务器资源包已经更新,所有玩家需要在设置中删除资源包下载缓存后重新进入服务器,否则会出现材质包bug!§r
这个版本修复了许多bug,加入了第一次公告,下一次更新将会是删档更新.会修复如失落者城镇僵尸过于密集的许多地图问题,在此之前§e限时提高失落者城镇爆率§r,直到下个版本更新.
与此同时,幸存者/感染者伤害得到了加强,近战伤害削弱,霰弹枪增强,战备券统一更改为低级战备券,限量改为每日10张.
公会系统实装,当前版本§c不推荐创建§r,下个版本会在商城中更新建筑包~
### v1.0.4
1.加入弹药/防具的市场购买渠道
2.撤离点关闭后显示0s的bug
3.显示所有撤离点方位和开启情况的导航系统，不持枪状态下开启
4.极少数玩家出现无法使用随机战备的bug
5.物资券保费上调
6.在npc处补充了模组授权和致谢信
7.修复了攻击会让自己冒血的bug
8.添加了武器箱,在商城中售卖,可以获得随机的武器
9.修复了伤害意外计算过低的bug
10增加了商城栏目,增加了10%的物品购置/贩售税
11.修复了箱子竞态导致自锁的bug
12.修复了贩售订单计算错误的bug
13.修复了手机触控小概率无法正常使用菜单的bug
14.制作兴奋剂和止痛药
15重写了生成逻辑,现在玩家不会再从高处生成,避免摔断腿
16.重做伤害系统,优化霰弹枪命中显示,修复了霰弹枪意外伤害过高的bug
17.在靶场中针对霰弹枪的挑战现在会把玩家传送至场地内
18.重做子弹命中系统,现在性能更优化,并且子弹可以穿越藤蔓等方块
19.完善了丢包撤逻辑
### v1.0.3
修复bug：
1.撤离点有概率无法撤离
2.死亡复活时有概率物品栏东西会消失
3.玩家盒子里面没有变卖物
4.摔断腿的概率太高了，2格高都会断腿
5.ai索敌太远了
6.甲修的显示有问题
添加了：
7.制作显示头盔和胸甲护甲的ui，破甲时做出明显提示
8.将原先的撤离点做成粒子光柱，在靠近之后可以显示开启或者关闭状态
9.自带战备做防呆设计，要求玩家至少备齐一把枪和足够的子弹以及足够的药品/甲修才可进入地图，否则提醒一个二次确认界面
10.主城放一个命令方块清除所有因为延迟等网络波动带进主城的玩家盒子
11.适配了基本的配件系统，支持基础的瞄具改装
12.修改领地建筑，加一些基本的提示例如hub回城
13.制作了新手指引，教会玩家基础的攻击，开箱，治疗，买卖货物，菜单操作逻辑
14.优化索敌机制，将原有射线单一目标检测升级成自定义的多目标，可穿透式射线检测，可以支持同时命中多个目标，自定义可穿透方块及穿透比例（注意性能问题）
16.添加了恢复血量时的ui效果
17.更新了人机的掉落物
18.削弱了人机的索敌距离,大幅削弱aa12人机的射速,换弹时间,小幅度增强了人机血量

## 🐛 bugs
- 已知bug:小概率在重载代码时出现const变量未定义报错,导致项目无法正常运行,原因:MC Bedrock 行为包脚本不是常驻进程
当重进世界、切换存档、或触发某些 reload（甚至可能是资源包切换、脚本崩溃恢复），宿主会重新加载脚本模块。
但有时它的初始化顺序会错乱模块级的 const 在还没初始化完成时就被别的地方引用 就报not initialize,解决方案:暂无,重启服务器一两次就会自动解决
- 已知bug:小概率会在刷新地图的时间点附近导致无法选择进入地图
原因:尚不明确
解决方案:使用hub刷新几次会自动恢复
## 📄 许可

请参阅 GNU License
